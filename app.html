<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@400;700&display=swap">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="js/nfc-handler.js"></script>
    <title>甘吧茶ㄉㄟˊ</title>
</head>

<body>
    <div class="container">
        <div class="bar center">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="personal2">
                <h1>探險啟程&ensp;Let's go~</h1>
                <img id="didi" src="img/didi.png" alt="">
                <input class="m1" type="text" id="userName" name="username" placeholder="暱稱：" autocomplete="off" /><br>
                <button id="startButton" class="btn btn-primary">任務開始</button>
                <div id="image-container">
                    <img src="img/kv3.png" alt="Left Image" class="image left-image w-100">
                    <img src="img/kv5.png" alt="Right Image" class="image right-image w-100">
                    <img src="img/kv7.png" alt="Left Image" class="image left-image w-100">
                    <img src="img/kv9.png" alt="Right Image" class="image right-image w-100">
                </div>
                <script>
                    window.addEventListener("load", function () {
                        var images = document.querySelectorAll(".image");
                        var delays = {
                            "img/kv3.png": 300,
                            "img/kv5.png": 300,
                            "img/kv7.png": 1500,
                            "img/kv9.png": 1500
                        };
                        images.forEach(function (image) {
                            var src = image.getAttribute("src");
                            var delay = delays[src] || 1000;

                            setTimeout(function () {
                                image.style.opacity = "1";
                                image.style.transform = "translateX(0)";
                            }, delay);
                        });
                    });
                </script>
                <!--
                <script>
                    document.addEventListener("DOMContentLoaded", function () {
                        var personalCenter = document.querySelector(".personal.center");
                        var images = personalCenter.querySelectorAll(".image");
                        var delays = {
                            "img/kv3.png": 1500,
                            "img/kv5.png": 1500,
                            "img/kv7.png": 2500,
                            "img/kv9.png": 2500
                        };
                        images.forEach(function (image) {
                            var src = image.getAttribute("src");
                            var delay = delays[src] || 1000;
                            setTimeout(function () {
                                image.style.opacity = "1";
                                image.style.transform = "translateX(0)";
                            }, delay);
                        });
                    });
                </script>-->
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="stepone">
                <h1>任務一</h1>
                <h1>請拿一張渲染貼紙<br>
                    寫上你/妳對<span style="color: #13693F;">茶</span>的印象</h1>
                <img src="img/sticker.png" alt="">
                <h2><span style="color: #B69779;">寫完後請貼到茶杯上方處</span></h2>
            </div>
            <button class="btn btn-primary" onclick="scrollToNextSection()">下一頁</button>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="nfc center">
                <h1>任務二</h1>
                <h1>聽聽茶莊阿姨的心聲吧</h1>
                <div class="nfcpart" id="nfc1">
                    <div class="part">
                        <img src="img/n1.jpg" alt="">
                        <p>年輕人應該多喝茶，少喝手搖飲</p>
                        <button class="next-button">>></button>
                        <button class="prev-button">prev</button>
                    </div>
                    <p><span style="color: #B69779;">點擊播放鍵聆聽下一則</span></p>
                    <button class="finish-button">跳過</button>
                </div>
                <div class="nfcpart" id="nfc2">
                    <div class="part">
                        <img src="img/n2.jpg" alt="">
                        <p>政府資助茶產業只是一時的</p>
                        <button class="next-button">>></button>
                        <button class="prev-button">prev</button>
                    </div>
                    <p><span style="color: #B69779;">點擊播放鍵聆聽下一則</span></p>
                    <button class="finish-button">跳過</button>
                </div>
                <div class="nfcpart" id="nfc3">
                    <div class="part">
                        <img src="img/n3.jpg" alt="">
                        <p>年輕人不願意回來接手茶莊</p>
                        <button class="next-button">>></button>
                        <button class="prev-button">prev</button>
                    </div>  
                    <p><span style="color: #B69779;">點擊播放鍵聆聽下一則</span></p>
                    <button class="finish-button">跳過</button>
                </div>
                <div class="nfcpart" id="nfc4">
                    <div class="part">
                        <img src="img/n4.jpg" alt="">
                        <p>年輕人應該多喝茶，少喝手搖飲</p>
                        <button class="prev-button">prev</button>
                    </div>
                    <button class="finish-button">聽完了</button>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="vr center">
                <h1>任務三</h1>
                <h1>拉開門簾進入體驗區<br>
                    戴上VR眼鏡 漫遊茶園～</h1>
                <img src="img/b1.png" alt="">
                <h2>打開五官感受</h2>
                <button>下一頁</button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="D center">
                <h1>任務四</h1>
                <h3>拿起展示ipad對準圓形圖片
                    看看製茶的工序！</h3>
                <img src="img/採菁.gif" alt="">
                <button>下一頁</button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="test center">
                <h1>任務五</h1>
                <div class="question" id="question1">
                    <h2>請依據茶多酚實驗室的內容完成小考察</h2>
                    <div class="ques">
                        <h3>台灣盛產哪三大類茶？</h3>
                        <div>紅茶、綠茶、奶茶</div>
                        <div>紅茶、綠茶、烏龍茶</div>
                        <div>白茶、綠茶、紅茶</div>
                    </div>
                    <button class="next-button">>></button>
                </div>
                <div class="question" id="question2">
                    <h2>請依據知識調查局的內容完成小考察</h2>
                    <div class="ques">
                        <h3>通常發酵程度越高，則茶湯顏色偏__？</h3>
                        <div>深</div>
                        <div>淺</div>
                        <div>沒有影響</div>
                        <button class="next-button">>></button>
                    </div>
                </div>
                <div class="question" id="question3">
                    <h2>請依據知識調查局的內容完成小考察</h2>
                    <div class="ques">
                        <h3>茶葉的形狀來自哪個工序？</h3>
                        <div>揉捻</div>
                        <div>殺菁</div>
                        <div>萎凋</div>
                    </div>
                </div>
                <div class="question" id="question4">
                    <h2>請依據知識調查局的內容完成小考察</h2>
                    <div class="ques">
                        <h3>一般白茶在製作時會經過哪兩道工序？</h3>
                        <div>浪菁、烘乾</div>
                        <div>萎凋、烘乾</div>
                        <div>殺菁、萎凋</div>
                        <button class="next-button">>></button>
                    </div>
                </div>
                <div class="question" id="question5">
                    <h2>請依據知識調查局的內容完成小考察</h2>
                    <div class="ques">
                        <h3>東方美人茶的特殊香氣源自於哪種昆蟲？</h3>
                        <div>蝴蝶</div>
                        <div>蜜蜂</div>
                        <div>小綠葉蟬</div>
                        <button class="next-button">>></button>
                    </div>
                </div>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        const questions = document.querySelectorAll('.test .question');
                        let currentQuestionIndex = 0;

                        function showCurrentQuestion() {
                            questions.forEach((question, index) => {
                                if (index === currentQuestionIndex) {
                                    question.style.display = 'block';
                                } else {
                                    question.style.display = 'none';
                                }
                            });
                        }

                        function nextQuestion() {
                            if (currentQuestionIndex < questions.length - 1) {
                                currentQuestionIndex++;
                                showCurrentQuestion();
                            }
                        }

                        function prevQuestion() {
                            if (currentQuestionIndex > 0) {
                                currentQuestionIndex--;
                                showCurrentQuestion();
                            }
                        }
                        const nextButtons = document.querySelectorAll('.test .next-button');
                        nextButtons.forEach(button => {
                            button.addEventListener('click', nextQuestion);
                        });

                        const prevButtons = document.querySelectorAll('.test .prev-button');
                        prevButtons.forEach(button => {
                            button.addEventListener('click', prevQuestion);
                        });

                        showCurrentQuestion();
                    });
                </script>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="web center">
                <h1 class="userNameDisplay"></h1>
                <h1>任務六</h1>
                <h1>入座！觀看專題網站～</h1>
                <img src="img/keyvision.PNG" alt="">
                <button>下一頁</button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="draw center">
                <h1>最後的任務</h1>
                <h1 class="userNameDisplay"></h1>
                <h1>到“ｉｐａｄ繪畫區”
                    畫出屬於你/妳的滴滴也可以留言喔</h1>
                <h2>範例：</h2>
                <img src="img/t1.png" alt="">
                <button>下一頁</button>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="bar">
            <div class="logo">
                <img src="img/logo.png" alt="">
                <h1>甘吧茶ㄉㄟˊ</h1>
                <p>展間互動導覽</p>
            </div>
            <div class="end center">
                <h1 class="userNameDisplay"></h1>
                <h1>頒發認證</h1>
                <h3>請貼一張貼紙到展板的
                    “探險員名冊“
                    另一張貼紙請貼到認證卡上</h3>
                <img src="img/end.png" alt="">
                <h2>恭喜你成為合格的探險員
                    Have a nice day!</h2>
                <a href="index.html"><button>專題網站</button></a>
                <button>回饋表單</button>
                <a href="app.html"><button>重新體驗</button></a>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const sections = document.querySelectorAll('.container > div');
            let currentSectionIndex = 0;
            let isScrolling = false;
            let touchStartY;
            let userName = '';

            // Event listener for the "開始" button
            document.getElementById('startButton').addEventListener('click', function () {
                // Get the entered name
                userName = document.getElementById('userName').value;

                // Display the entered name on step one
                document.getElementById('userNameDisplay').innerText = userName;

                // Progress to the next section
                scrollToNextSection(1);
            });

            function showCurrentSection() {
                sections.forEach((section, index) => {
                    if (index === currentSectionIndex) {
                        section.style.display = 'block';
                    } else {
                        section.style.display = 'none';
                    }
                });

                // Display the entered name on each section
                // Display the entered name on each section
                if (currentSectionIndex !== 0) { // Skip the personal section
                    const userNameDisplayElement = sections[currentSectionIndex].querySelector('.userNameDisplay');
                    if (userNameDisplayElement) {
                        userNameDisplayElement.innerText = userName;
                    }
                }

            }

            function scrollToSection(index) {
                currentSectionIndex = index;
                showCurrentSection();
                isScrolling = true;
                setTimeout(() => {
                    isScrolling = false;
                }, 800); // Adjust the delay time based on your preference
            }

            function scrollToNextSection() {
                if (currentSectionIndex < sections.length - 1) {
                    scrollToSection(currentSectionIndex + 1);
                }
            }

            function handleWheel(event) {
                if (!isScrolling) {
                    if (event.deltaY > 0) {
                        // Scrolling down
                        if (currentSectionIndex < sections.length - 1) {
                            scrollToSection(currentSectionIndex + 1);
                        }
                    } else {
                        // Scrolling up
                        if (currentSectionIndex > 0) {
                            scrollToSection(currentSectionIndex - 1);
                        }
                    }
                }
                event.preventDefault();
            }

            function handleTouchStart(event) {
                touchStartY = event.touches[0].clientY;
            }

            function handleTouchMove(event) {
                if (!isScrolling) {
                    const touchEndY = event.touches[0].clientY;
                    const deltaY = touchEndY - touchStartY;

                    if (deltaY > 50) {
                        // Swiped down
                        if (currentSectionIndex > 0) {
                            scrollToSection(currentSectionIndex - 1);
                        }
                    } else if (deltaY < -50) {
                        // Swiped up
                        if (currentSectionIndex < sections.length - 1) {
                            scrollToSection(currentSectionIndex + 1);
                        }
                    }
                }
            }

            window.addEventListener('wheel', handleWheel);
            window.addEventListener('touchstart', handleTouchStart);
            window.addEventListener('touchmove', handleTouchMove);

            // Smooth scroll to the next section when any button (excluding specific classes) is clicked
            const allButtons = document.querySelectorAll('.container button');
            allButtons.forEach(button => {
                button.addEventListener('click', function () {
                    // Exclude buttons with specific classes from smooth scroll
                    if (!button.classList.contains('next-button') && !button.classList.contains('prev-button')) {
                        scrollToNextSection();
                    }
                });
            });

            // Show the initial section
            showCurrentSection();
        });
    </script>

</body>

</html>